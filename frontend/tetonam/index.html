<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MaumCanvas</title>
    <meta
      name="description"
      content="마음캔버스 - AI 기반 심리 진단 및 상담 서비스"
    />
    <meta name="author" content="Tetonam" />

    <!-- 성능 최적화 -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />

    <!-- 핵심 폰트 미리 로드 -->
    <link
      rel="preload"
      href="/fonts/Pretendard-Regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/fonts/Pretendard-Medium.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <!-- 핵심 폰트 페이스: 앱 CSS 로드 전 FOUT 방지를 위해 조기 정의 -->
    <style id="critical-fonts">
      @font-face {
        font-family: 'Pretendard';
        src: url('/fonts/Pretendard-Regular.woff2') format('woff2');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
        unicode-range: U+AC00-D7AF, U+0041-005A, U+0061-007A, U+0030-0039;
      }
      @font-face {
        font-family: 'Pretendard';
        src: url('/fonts/Pretendard-Medium.woff2') format('woff2');
        font-weight: 500;
        font-style: normal;
        font-display: swap;
        unicode-range: U+AC00-D7AF, U+0041-005A, U+0061-007A, U+0030-0039;
      }
      @font-face {
        font-family: 'Pretendard';
        src: url('/fonts/Pretendard-Bold.woff2') format('woff2');
        font-weight: 700;
        font-style: normal;
        font-display: swap;
        unicode-range: U+AC00-D7AF, U+0041-005A, U+0061-007A, U+0030-0039;
      }
      /* Pretendard에 더 가깝게 매칭되는 메트릭 오버라이드 폴백 */
      @font-face {
        font-family: 'Pretendard Fallback';
        src:
          local('Noto Sans KR'), local('Malgun Gothic'), local('Segoe UI'),
          local('Arial');
        /* 작은->큰 크기 점프를 줄이기 위한 초기 보정값; 필요시 세밀 조정 */
        size-adjust: 102%;
        ascent-override: 88%;
        descent-override: 12%;
        line-gap-override: 0%;
        font-weight: 400 700;
        font-style: normal;
      }
      /* 선택사항: 리플로우 차이를 피하기 위한 합성 폰트 조정 감소 */
      html {
        font-synthesis-weight: none;
        font-synthesis-style: none;
      }
    </style>

    <!-- Critical CSS for LCP optimization -->
    <style id="critical-css">
      /* Critical text styles for LCP elements - 중복 없는 것만 */
      .text-sm {
        font-size: 0.875rem;
        line-height: 1.25rem;
      }
      .text-orange-800 {
        color: #9a3412;
      }
      .text-green-600 {
        color: #16a34a;
      }
      .text-red-600 {
        color: #dc2626;
      }
      .text-gray-600 {
        color: #4b5563;
      }
      .text-gray-700 {
        color: #374151;
      }
      .text-gray-800 {
        color: #1f2937;
      }
      .text-gray-900 {
        color: #111827;
      }

      /* Critical layout styles */
      .container {
        width: 100%;
      }
      .mx-auto {
        margin-left: auto;
        margin-right: auto;
      }
      .px-4 {
        padding-left: 1rem;
        padding-right: 1rem;
      }
      .py-2 {
        padding-top: 0.5rem;
        padding-bottom: 0.5rem;
      }
      .py-4 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
      .mb-4 {
        margin-bottom: 1rem;
      }
      .mt-4 {
        margin-top: 1rem;
      }

      /* Critical flex styles */
      .flex {
        display: flex;
      }
      .items-center {
        align-items: center;
      }
      .justify-center {
        justify-content: center;
      }
      .justify-between {
        justify-content: space-between;
      }

      /* Critical background styles */
      .bg-white {
        background-color: #ffffff;
      }
      .bg-gray-50 {
        background-color: #f9fafb;
      }
      .bg-gray-100 {
        background-color: #f3f4f6;
      }

      /* Critical border styles */
      .border {
        border-width: 1px;
      }
      .border-gray-200 {
        border-color: #e5e7eb;
      }
      .border-gray-300 {
        border-color: #d1d5db;
      }
      .rounded {
        border-radius: 0.25rem;
      }
      .rounded-lg {
        border-radius: 0.5rem;
      }

      /* Critical visibility */
      .opacity-0 {
        opacity: 0;
      }
      .opacity-100 {
        opacity: 1;
      }
      .transition-opacity {
        transition-property: opacity;
        transition-duration: 0.15s;
      }
    </style>

    <!-- FOUC 감소를 위한 전역 CSS 조기 로드 -->
    <link rel="stylesheet" href="/src/index.css" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/MaumCanvasLogo.png" />
    <link rel="apple-touch-icon" href="/MaumCanvasLogo.png" />

    <!-- Mobile Web App -->
    <meta name="theme-color" content="#10b981" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="MaumCanvas" />
    <!-- Open Graph -->
    <meta property="og:title" content="마음캔버스 - MaumCanvas" />
    <meta
      property="og:description"
      content="AI 기반 심리 진단 및 상담 서비스"
    />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="ko_KR" />
    <!-- <meta property="og:image" content="https://i13e108.p.ssafy.io/" /> -->
  </head>

  <body class="font-loading">
    <div id="root"></div>
    <script>
      // 모든 폰트가 준비되면 로딩 상태를 제거하여 더 부드러운 전환 구현
      (function () {
        try {
          if (document.fonts && document.fonts.ready) {
            document.fonts.ready.then(function () {
              document.body.classList.remove('font-loading');
              document.body.classList.add('font-loaded');
            });
          } else {
            // 폴백: FontFaceSet이 없어도 로딩 상태를 빠르게 제거하도록 보장
            window.addEventListener('load', function () {
              document.body.classList.remove('font-loading');
              document.body.classList.add('font-loaded');
            });
          }
        } catch (_) {}
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
